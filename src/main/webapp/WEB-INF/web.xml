<?xml version="1.0" encoding="utf-8"?>
<web-app xmlns="http://java.sun.com/xml/ns/javaee" version="2.5">
    <servlet>
      <servlet-name>login</servlet-name>
      <servlet-class>myapp.LoginServlet</servlet-class>
    </servlet>
    <servlet>
      <servlet-name>list-cemeteries</servlet-name>
      <jsp-file>/list_cemeteries.jsp</jsp-file>
    </servlet>
    <servlet>
      <servlet-name>view-cemetery</servlet-name>
      <jsp-file>/view_cemetery.jsp</jsp-file>
    </servlet>
    <servlet>
      <servlet-name>edit-cemetery</servlet-name>
      <jsp-file>/edit_cemetery.jsp</jsp-file>
    </servlet>
    <servlet>
      <servlet-name>save-cemetery</servlet-name>
      <servlet-class>myapp.SaveCemeteryServlet</servlet-class>
    </servlet>
    <servlet>
      <servlet-name>list-veterans</servlet-name>
      <jsp-file>/list_veterans.jsp</jsp-file>
    </servlet>
    <servlet>
        <servlet-name>view-veteran</servlet-name>
        <jsp-file>/view_veteran.jsp</jsp-file>
    </servlet>
    <servlet>
        <servlet-name>edit-veteran</servlet-name>
        <jsp-file>/edit_veteran.jsp</jsp-file>
    </servlet>
    <servlet>
        <servlet-name>save-veteran</servlet-name>
        <servlet-class>myapp.SaveVeteranServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>contact</servlet-name>
        <jsp-file>/contact.jsp</jsp-file>
    </servlet>
    <servlet>
        <servlet-name>thanks</servlet-name>
        <jsp-file>/thanks.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>login</servlet-name>
        <url-pattern>/login</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>list-cemeteries</servlet-name>
        <url-pattern>/cemeteries</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>view-cemetery</servlet-name>
        <url-pattern>/cemetery/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>edit-cemetery</servlet-name>
        <url-pattern>/__edit__/cemetery/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>save-cemetery</servlet-name>
        <url-pattern>/__save__/cemetery</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>list-veterans</servlet-name>
        <url-pattern>/all</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>list-veterans</servlet-name>
        <url-pattern>/veterans</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>view-veteran</servlet-name>
        <url-pattern>/veteran/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>edit-veteran</servlet-name>
        <url-pattern>/__edit__/veteran/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>save-veteran</servlet-name>
        <url-pattern>/__save__/veteran</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>thanks</servlet-name>
        <url-pattern>/thanks</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>contact</servlet-name>
        <url-pattern>/contact</url-pattern>
    </servlet-mapping>
    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
        <welcome-file>index.html</welcome-file>
    </welcome-file-list>
    <!-- Limit access to administrative pages. -->
    <security-constraint>
      <web-resource-collection>
        <web-resource-name>login</web-resource-name>
        <url-pattern>/login</url-pattern>
      </web-resource-collection>
      <auth-constraint>
        <role-name>*</role-name>
      </auth-constraint>
    </security-constraint>
    <security-constraint>
      <web-resource-collection>
        <web-resource-name>admin</web-resource-name>
        <url-pattern>/__edit__/*</url-pattern>
        <url-pattern>/__save__/*</url-pattern>
      </web-resource-collection>
      <auth-constraint>
        <role-name>admin</role-name>
      </auth-constraint>
    </security-constraint>
</web-app>
